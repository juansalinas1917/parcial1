<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/bootstrap.css">
    <script src="js/jquery-3.6.0.min.js"></script>
    <script src="js/bootstrap.js"></script> 
    <title>Loteria</title>
    <style>
        body{
			background: rgb(255, 77, 246);
            font-family: 'Century Gothic';
		}
        .container{
            min-width: 100%;
        }
        img{
            max-width: 200px;
            max-height: 300px;
        }
        .baraja{
            max-width: 100px;
            max-height: 200px;

        }
        footer{
            font-size: 20px;
            color: rgb(255, 255, 255);
            text-shadow: 0 0 20px rgb(225, 105, 255);
			text-align: center;
            width: 100%;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="row justify-content-md-center">
            <div class="col-12">
                <h1 style="color: white; text-shadow: 0 0 20px rgb(117, 223, 255); text-align: center;">üëë Loteria üëë</h1>
                <hr>
            </div>
        </div>
        <div class="row justify-content-md-center">
            <div class="col-6">
                <button id="iniciar" class="btn btn-block btn-primary">Reiniciar juego</button>
                <button id="sacar" class="btn btn-block btn-secondary" style="visibility: hidden;">Sacar Carta</button>
            </div>
        </div>

        <div class="row justify-content-md-center">
           <div class="col-md-6" style="text-align: center; padding-top: 1%; padding-bottom: 1%;">
               <img class="img-fluid baraja" id="cartas">
           </div>
        </div>

        <div class="row justify-content-md-center">
            <div class="col-md-4 card">
                <table>
                    <tbody><tr>
                        <td><img class="img-fluid" src="" alt="" id="c1_1"  style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c1_2"  style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c1_3"  style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c1_4"  style="opacity: 1;"></td>
                    </tr>
                    <tr>
                        <td><img class="img-fluid" src="" alt="" id="c1_5"  style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c1_6"  style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c1_7"  style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c1_8"  style="opacity: 1;"></td>
                    </tr>
                    <tr>
                        <td><img class="img-fluid" src="" alt="" id="c1_9"  style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c1_10" style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c1_11" style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c1_12" style="opacity: 1;"></td>
                    </tr>
                    <tr>
                        <td><img class="img-fluid" src="" alt="" id="c1_13" style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c1_14" style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c1_15" style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c1_16" style="opacity: 1;"></td>
                    </tr>
                </tbody></table>
            </div>
            <div class="col-md-4 card">
                <table>
                    <tbody><tr>
                        <td><img class="img-fluid" src="" alt="" id="c2_1" style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c2_2" style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c2_3" style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c2_4" style="opacity: 1;"></td>
                    </tr>
                    <tr>
                        <td><img class="img-fluid" src="" alt="" id="c2_5" style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c2_6" style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c2_7" style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c2_8" style="opacity: 1;"></td>
                    </tr>
                    <tr>
                        <td><img class="img-fluid" src="" alt="" id="c2_9"  style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c2_10" style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c2_11" style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c2_12" style="opacity: 1;"></td>
                    </tr>
                    <tr>
                        <td><img class="img-fluid" src="" alt="" id="c2_13" style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c2_14" style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c2_15" style="opacity: 1;"></td>
                        <td><img class="img-fluid" src="" alt="" id="c2_16" style="opacity: 1;"></td>
                    </tr>
                </tbody></table>
            </div>
        </div>
    </div>
    <footer>Salinas Beltr√°n Juan Manuel 6AVP</footer>
	<a href="../index.html" class="btn btn-block btn-dark"> ‚¨ÖÔ∏è Regresar</a>
</body>
</html>
<script>
    $(document).ready(function ($) {
        let barajas = new Array(54);
        let cartas_1 = new Array(16);
        let cartas_2 = new Array(16);
        var baraja_num = 0;
        var puntos_1 = 0;
        var puntos_2 = 0;

        $("#iniciar").click(function (event) {
            cartas_1.fill(0,0);
            cartas_2.fill(0,0);
            barajas.fill(0,0);
            baraja_num = 0;
            puntos_1 = 0;
            puntos_2 = 0;
            $("#sacar").attr("style", "visibility: visible;");
            $("#cartas").removeAttr("src");
            for (var i = 1; i <= 16; i++){
                $("#c1_"+i).attr("style", "opacity: 1;");
                $("#c2_"+i).attr("style", "opacity: 1;");
            }
            for (var i = 1; i <= 16;) {
                var num = Math.floor(Math.random() * 54) + 1;
                if (cartas_1[i - 1] == 0 && cartas_1.includes(num) == false) {
                    cartas_1[i - 1] = num;
                    i++;
                }
            }
            for (var i = 1; i <= 16;) {
                var num = Math.floor(Math.random() * 54) + 1;
                if (cartas_2[i - 1] == 0 && cartas_2.includes(num) == false) {
                    cartas_2[i - 1] = num;
                    i++;
                }
            }
            for (var i = 1; i <= 16; i++) {
                $("#c1_" + i).attr("src", "imagenes/" + cartas_1[i - 1] + ".jpg");
                $("#c2_" + i).attr("src", "imagenes/" + cartas_2[i - 1] + ".jpg");
            }

        });
        $("#sacar").click(function (event) {
            
            do{
                var num = Math.floor(Math.random() * 54) + 1;
            }while(barajas.includes(num));
            barajas[baraja_num] = num;
            $("#cartas").attr("src", "imagenes/" + barajas[baraja_num] + ".jpg");
            
            for (var i = 1; i <= 16; i++) {
                if (barajas.includes(cartas_1[i-1]) && $("#c1_"+i).attr("style") == 'opacity: 1;'  ) {
                    $("#c1_"+i).attr("style", "opacity: 0.7;");
                    puntos_1++;
                }
                if (barajas.includes(cartas_2[i-1]) && $("#c2_"+i).attr("style") == 'opacity: 1;' ) {
                    $("#c2_"+i).attr("style", "opacity: 0.7;");
                    puntos_2++;
                }
            }
            if(puntos_1 == 16 && puntos_2 == 16){
                alert("!EMPATE¬°");
                $("#sacar").attr("style", "visibility: hidden;");
            }else if(puntos_1 == 16){
                alert("Gano el Jugador 1");
                $("#sacar").attr("style", "visibility: hidden;");
            }else if(puntos_2 == 16){
                alert("Gano el Jugador 2");
                $("#sacar").attr("style", "visibility: hidden;");
            }
            baraja_num++;
        });
    });
</script>